<div class="detalle-trabajador-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <h3>Panel de Trabajadores</h3>
    <ul class="nav flex-column">
      <li class="nav-item"><button class="btn-sidebar" routerLink="/dashboard">ğŸ  Dashboard</button></li>
      <li class="nav-item"><button class="btn-sidebar" routerLink="/sedes">ğŸ“ Sedes</button></li>
      <li class="nav-item"><button class="btn-sidebar" routerLink="/trabajadores">ğŸ‘· Trabajadores</button></li>
      <li class="nav-item"><button class="btn-sidebar" routerLink="/perfil">ğŸ‘¤ Perfil</button></li>
    </ul>
    <button class="btn-logout" (click)="cerrarSesion()">âŒ Cerrar SesiÃ³n</button>
  </div>

  <!-- Contenido Principal -->
  <div class="main-content">
    <div class="content-container">
      <!-- BotÃ³n de regresar -->
      <button class="btn-regresar" (click)="regresar()">â¬… Regresar</button>

      <h2 class="titulo-nombre">
        ğŸ‘¤ {{ trabajador.nombre }}
      </h2>

      <p class="subtitulo-sede">
        ğŸ¢ {{ sedeNombres[+trabajador.sede] }}
      </p>

      <!-- InformaciÃ³n del Trabajador -->
<mat-accordion>
  <mat-expansion-panel [expanded]="true">
    <mat-expansion-panel-header>
      <mat-panel-title>
        ğŸ›  InformaciÃ³n del Trabajador
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div class="info-trabajador">
      <div class="info-campos">
        <label>Nombre:
          <input type="text" [(ngModel)]="trabajador.nombre" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
        </label>

        <label>Correo:
          <input type="email" [(ngModel)]="trabajador.correo" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
        </label>

        <label>TelÃ©fono:
          <input type="text" [(ngModel)]="trabajador.telefono" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
        </label>

        <label>TelÃ©fono de Emergencia:
          <input type="text" [(ngModel)]="trabajador.telefonoEmergencia" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
        </label>

        <label>DirecciÃ³n:
          <input type="text" [(ngModel)]="trabajador.direccion" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
        </label>

        <label>Sede:
          <select [(ngModel)]="trabajador.sede" disabled>
            <option *ngFor="let key of sedeKeys" [value]="key">
              {{ sedeNombres[+key] }}
            </option>
          </select>
        </label>
      </div>

      <!-- Botones de acciÃ³n -->
      <div class="botones">
        <!-- BotÃ³n Editar -->
        <button (click)="activarEdicion()" *ngIf="!modoEdicion" class="editar">
          <i class="bi bi-pencil-fill"></i> Editar
        </button>

        <!-- BotÃ³n Actualizar -->
        <button (click)="actualizarTrabajador()" *ngIf="modoEdicion" class="actualizar">
          <i class="bi bi-save-fill"></i> Actualizar
        </button>

        <!-- BotÃ³n Cancelar -->
        <button (click)="cancelarEdicion()" *ngIf="modoEdicion" class="cancelar">
          <i class="bi bi-x-circle-fill"></i> Cancelar
        </button>
      </div>
    </div>
  </mat-expansion-panel>
</mat-accordion>


<!-- ğŸ”½ Segundo panel: ConfiguraciÃ³n del Calendario -->
<mat-accordion>
<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      ğŸ—“ ConfiguraciÃ³n de Calendario del Trabajador
    </mat-panel-title>
  </mat-expansion-panel-header>

  <div class="configuracion-calendario">
    <!-- AquÃ­ puedes meter controles, selectores, inputs, etc -->
    <p style="color: white;">AquÃ­ irÃ¡ la configuraciÃ³n del calendario ğŸ§ </p>
  </div>
</mat-expansion-panel>
</mat-accordion>

        <!-- Mensaje para el revisor -->
        <div class="mensaje-revisor" *ngIf="rolUsuario === 'Revisor'">
          ğŸ”’ Solo puedes visualizar los detalles del trabajador.
        </div>
      </div>

      <!-- Calendario de Asistencias -->
      <div class="calendario-container">
        <h3>ğŸ“… Calendario de Asistencias</h3>
        <app-calendario [asistencias]="trabajador.asistencias"></app-calendario>
      </div>
    </div>
  </div>
