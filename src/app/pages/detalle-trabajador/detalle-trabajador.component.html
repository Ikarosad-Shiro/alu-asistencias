<div class="detalle-trabajador-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <h3>Panel de Trabajadores</h3>
    <ul class="nav flex-column">
      <li class="nav-item"><button class="btn-sidebar" routerLink="/dashboard">ğŸ  Dashboard</button></li>
      <li class="nav-item"><button class="btn-sidebar" routerLink="/sedes">ğŸ“ Sedes</button></li>
      <li class="nav-item"><button class="btn-sidebar" routerLink="/trabajadores">ğŸ‘· Trabajadores</button></li>
      <li class="nav-item"><button class="btn-sidebar" routerLink="/perfil">ğŸ‘¤ Perfil</button></li>
    </ul>
    <button class="btn-logout" (click)="cerrarSesion()">âŒ Cerrar SesiÃ³n</button>
  </div>

  <!-- Contenido Principal -->
  <div class="main-content">
    <div class="content-container">
      <!-- BotÃ³n de regresar -->
      <button class="btn-regresar" (click)="regresar()">â¬…ï¸ Regresar</button>

      <!-- InformaciÃ³n del Trabajador -->
      <div class="info-trabajador">
        <h2>InformaciÃ³n del Trabajador ğŸ› ï¸</h2>
        <div class="info-campos">
          <label>Nombre:
            <input type="text" [(ngModel)]="trabajador.nombre" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
          </label>
          <label>Correo:
            <input type="email" [(ngModel)]="trabajador.correo" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
          </label>
          <label>TelÃ©fono:
            <input type="text" [(ngModel)]="trabajador.telefono" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
          </label>
          <label>TelÃ©fono de Emergencia:
            <input type="text" [(ngModel)]="trabajador.telefonoEmergencia" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
          </label>
          <label>DirecciÃ³n:
            <input type="text" [(ngModel)]="trabajador.direccion" [readonly]="rolUsuario === 'Revisor' || !modoEdicion">
          </label>
          <label>Sede:
            <select [(ngModel)]="trabajador.sede" disabled> <!-- ğŸ”¥ Deshabilitado para todos -->
              <option *ngFor="let key of sedeKeys" [value]="key">
                {{ sedeNombres[+key] }}
              </option>
            </select>
          </label>
        </div>

        <!-- Botones de Editar/Cancelar y Actualizar -->
        <div class="botones">
          <button class="btn-editar" *ngIf="rolUsuario !== 'Revisor'" (click)="toggleEditar()" [ngClass]="{'btn-cancelar': modoEdicion}">
            <ng-container *ngIf="!modoEdicion">âœï¸ Editar</ng-container>
            <ng-container *ngIf="modoEdicion">âŒ Cancelar</ng-container>
          </button>
          <button class="btn-actualizar" *ngIf="rolUsuario !== 'Revisor'"  (click)="actualizarTrabajador()" [disabled]="!modoEdicion">ğŸ’¾ Actualizar</button>
        </div>

        <!-- Mensaje para el revisor -->
        <div class="mensaje-revisor" *ngIf="rolUsuario === 'Revisor'">
          ğŸ”’ Solo puedes visualizar los detalles del trabajador.
        </div>
      </div>

      <!-- Calendario de Asistencias -->
      <div class="calendario-container">
        <h3>ğŸ“… Calendario de Asistencias</h3>
        <app-calendario [asistencias]="trabajador.asistencias"></app-calendario>
      </div>
    </div>
  </div>
</div>
