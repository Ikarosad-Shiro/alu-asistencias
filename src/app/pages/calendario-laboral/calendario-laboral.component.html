<div class="dashboard-container">
  <!-- Botón de menú móvil -->
  <button class="menu-toggle" (click)="toggleSidebar()">☰</button>
  <div class="sidebar-overlay" (click)="toggleSidebar()"></div>

  <!-- Sidebar -->
  <div class="sidebar" [class.active]="sidebarAbierto">
    <h3>Configuración de Calendario Laboral</h3>
    <ul class="nav flex-column">
      <li class="nav-item">
        <mat-checkbox>Sedes</mat-checkbox>
      </li>
      <li class="nav-item">
        <mat-checkbox checked>Trabajadores</mat-checkbox>
      </li>
      <li class="nav-item">
        <mat-checkbox>Perfil</mat-checkbox>
      </li>
      <li class="nav-item">
        <mat-checkbox>Acerca de</mat-checkbox>
      </li>
      <li class="nav-item" *ngIf="esAdmin()">
        <mat-checkbox>Ver Usuarios</mat-checkbox>
      </li>
    </ul>
    <mat-checkbox checked class="btn-logout">Cerrar Sesión</mat-checkbox>
  </div>

  <!-- Contenido principal -->
  <div class="main-content">
    <div class="contenedor-calendario">
      <h2>Configuración de Calendario Laboral</h2>

      <!-- Filtros -->
      <div class="filtros">
        <mat-form-field appearance="outline">
          <mat-label>Sede</mat-label>
          <mat-select [(value)]="sedeSeleccionada" (selectionChange)="onSedeChange()">
            <mat-option *ngFor="let sede of sedes" [value]="sede.id">
              {{ sede.nombre }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Año</mat-label>
          <input matInput type="number" [(ngModel)]="anioSeleccionado" min="2023" max="2030">
        </mat-form-field>
      </div>

      <app-calendario-sede
      *ngIf="busquedaRealizada && sedeSeleccionada !== null"
      [sede]="sedeSeleccionada!"
      [sedeNombre]="sedeSeleccionadaNombre"
      [anio]="anioSeleccionado"
      [eventos]="diasEspeciales"
      (eventoGuardado)="onEventoGuardado($event)">
    </app-calendario-sede>

      <!-- Mensajes -->
      <div *ngIf="busquedaRealizada && diasEspeciales.length === 0" class="mensaje-vacio">
        <p>No hay configuración de calendario para esta sede y año.</p>
      </div>
    </div>
  </div>
</div>
