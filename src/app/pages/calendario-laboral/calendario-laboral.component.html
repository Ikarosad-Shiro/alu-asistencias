<div class="admin-dashboard-container">
  <!-- ğŸ“Œ BotÃ³n para abrir el sidebar en mÃ³viles -->
  <button class="menu-toggle" (click)="toggleSidebar()">â˜°</button>

  <!-- ğŸ“Œ Fondo para cerrar el sidebar en mÃ³viles -->
  <div class="sidebar-overlay" (click)="toggleSidebar()"></div>

<!-- ğŸ“Œ Sidebar -->
<div class="sidebar" [class.active]="sidebarAbierto">
  <h3>Configuracion de Calendario General</h3>
  <ul class="nav flex-column">
    <li class="nav-item"><button class="btn-sidebar" routerLink="/dashboard">ğŸ  Dashboard</button></li>
    <li class="nav-item"><button class="btn-sidebar" routerLink="/sedes">ğŸ“ Sedes</button></li>
    <li class="nav-item"><button class="btn-sidebar" routerLink="/trabajadores">ğŸ‘· Trabajadores</button></li>
    <li class="nav-item"><button class="btn-sidebar" routerLink="/perfil">ğŸ‘¤ Perfil</button></li>
    <li class="nav-item"><button class="btn-sidebar" routerLink="/acerca-de">â„¹ï¸ Acerca de</button></li>
    <li class="nav-item" *ngIf="esAdmin()"><button class="btn-sidebar" routerLink="/usuarios">ğŸ§‘â€ğŸ’¼ Ver Usuarios</button></li>
  </ul>
  <button class="btn-logout" (click)="cerrarSesion()">âŒ Cerrar SesiÃ³n</button>
</div>

<!-- ğŸ“Œ Fondo para cerrar el sidebar en mÃ³viles -->
<div class="sidebar-overlay" [class.active]="sidebarAbierto" (click)="toggleSidebar()"></div>


  <!-- ğŸ“Œ Contenido principal -->
  <div class="main-content">
    <div class="contenedor-calendario">
      <!-- ğŸ“ TÃ­tulo -->
      <h2 class="mat-title text-center" style="margin-bottom: 20px;">ConfiguraciÃ³n de Calendario Laboral</h2>
      <p class="text-center" style="margin-bottom: 30px;">Consulta y administra los dÃ­as especiales por sede</p>

      <!-- ğŸ“Œ Filtros -->
      <div class="filtros">
        <mat-form-field appearance="outline">
          <mat-label>Sede</mat-label>
          <mat-select [(value)]="sedeSeleccionada" (selectionChange)="onSedeChange()">
            <mat-option *ngFor="let sede of sedes" [value]="sede.id">{{ sede.nombre }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>AÃ±o</mat-label>
          <input matInput type="number" [(ngModel)]="anioSeleccionado" min="2023" max="2030" />
        </mat-form-field>
      </div>

      <!-- ğŸ“† Calendario visual -->
      <app-calendario-sede
      *ngIf="busquedaRealizada && sedeSeleccionada !== null && sedes.length"
      [sede]="sedeSeleccionada!"
      [sedeNombre]="sedeSeleccionadaNombre"
      [anio]="anioSeleccionado"
      [eventos]="diasEspeciales"
      [todasLasSedes]="sedes"
      (eventoGuardado)="onEventoGuardado($event)"
      (eventoEliminado)="onEventoEliminado($event)"> <!-- âœ… Agregado aquÃ­ -->
    </app-calendario-sede>

      <!-- ğŸ’¬ Mensaje si no hay configuraciÃ³n -->
      <div *ngIf="busquedaRealizada && diasEspeciales.length === 0" class="mensaje-vacio">
        <p>No hay configuraciÃ³n de calendario para esta sede y aÃ±o.</p>
      </div>
    </div>
  </div>
</div>
