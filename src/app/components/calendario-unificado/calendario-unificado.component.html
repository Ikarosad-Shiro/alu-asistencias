<div class="calendario-visual-trabajador">
  <h3>ğŸ“… Calendario de Asistencias</h3>

  <!-- ğŸ“† Controles para cambiar de mes -->
  <div class="controles">
    <button (click)="mesAnterior()">â¬…ï¸</button>
    <span>{{ fechaActual | date: 'MMMM yyyy' }}</span>
    <button (click)="mesSiguiente()">â¡ï¸</button>
  </div>

  <!-- ğŸ—“ï¸ DÃ­as de la semana -->
  <div class="dias-semana">
    <div *ngFor="let dia of ['Dom', 'Lun', 'Mar', 'MiÃ©', 'Jue', 'Vie', 'SÃ¡b']">
      <strong>{{ dia }}</strong>
    </div>
  </div>

  <!-- ğŸ“… DÃ­as del mes -->
  <div class="grid-dias">
    <div *ngFor="let dia of diasDelMes" class="dia" [ngClass]="getClaseEstado(dia.estado)">
      <div class="numero">{{ dia.fecha | date: 'd' }}</div>
      <div class="estado">{{ dia.estado }}</div>
    </div>
  </div>

  <!-- ğŸ§¾ Leyenda de estados -->
<!-- ğŸ§¾ Leyenda de estados en 4 columnas -->
<div class="leyenda-grid">
  <h4>ğŸ§¾ Leyenda:</h4>
  <div class="leyenda-columnas">
    <div class="item"><span class="color asistencia-completa"></span> Asistencia Completa</div>
    <div class="item"><span class="color salida-automatica"></span> Salida AutomÃ¡tica</div>
    <div class="item"><span class="color pendiente"></span> Pendiente</div>
    <div class="item"><span class="color falta"></span> Falta</div>
    <div class="item"><span class="color vacaciones"></span> Vacaciones</div>
    <div class="item"><span class="color permiso"></span> Permiso</div>
    <div class="item"><span class="color incapacidad"></span> Incapacidad</div>
    <div class="item"><span class="color descanso"></span> Descanso</div>
    <div class="item"><span class="color festivo"></span> Festivo</div>
    <div class="item"><span class="color puente"></span> Puente</div>
    <div class="item"><span class="color media-jornada"></span> Media Jornada</div>
    <div class="item"><span class="color capacitaciÃ³n"></span> CapacitaciÃ³n</div>
    <div class="item"><span class="color evento"></span> Evento</div>
    <div class="item"><span class="color suspensiÃ³n"></span> SuspensiÃ³n</div>
  </div>
</div>

<ng-template #diaVacio>
 <div class="numero">&nbsp;</div>
</ng-template>
</div>
